思源笔记整体上采用前后端分离的技术架构，通过 HTTP 实现前后端通讯。
{: id="20201222143422-7hd0fdi"}

### 前端
{: id="20201222143422-zqobpao"}

前端目前主要是基于浏览器技术，实现用户交互界面和操作系统平台相关的业务逻辑等。
{: id="20201222143422-3da01pq"}

* {: id="20201222143422-egmb6a1"}Electron
* {: id="20201222143422-xequ8hb"}浏览器
{: id="20201222143422-tvtjl6e"}

未来前端可扩展到任何基于 HTTP 通讯的客户端。
{: id="20201222143422-us39mjv"}

### 后端
{: id="20201222143422-i1o1r90"}

后端是常驻内存的 HTTP 服务器，实现核心业务逻辑和状态持久化等。监听端口：
{: id="20201222143422-v2sm9u6"}

* {: id="20201222143422-30euvfp"}`6806`：HTTP/WebSocket，在所有网卡（`0.0.0.0`）上监听该端口，`/siyuan/` 路径下的流量会被自动转发到本地端口 `127.0.0.1:6807`
* {: id="20201222143422-hqkwd55"}`6807`：HTTP/WebDAV，在 `127.0.0.1` 监听该端口
{: id="20201222143422-g66y05b"}

### 发布包
{: id="20201222143422-b5oj17h"}

* {: id="20201222143422-i4hpqur"}桌面应用：基于 Electron 打包，主进程启动后拉起 kernel 内核进程。由 kernel  HTTP 伺服界面相关静态资源，Electron 主窗口通过 `loadURL` 加载界面
* {: id="20201222143422-8rosfdb"}服务器应用：仅打包 kernel 内核和外观、文档等资源，通过 Docker 镜像 `b3log/siyuan` 分发
{: id="20201222143422-k39br3p"}

{: id="20201222222311-oxb5ffh"}


{: id="20201004190517-2se299k" type="doc"}
